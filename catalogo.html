<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HMM – Catálogo</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- ==============================
       HEADER
       ============================== -->
  <header>
    <div class="container">
      <a href="index.html" class="logo">HMM</a>
      <nav>
        <a href="index.html" class="nav-link">Inicio</a>
        <a href="catalogo.html" class="nav-link active">Catálogo</a>
        <a href="contacto.html" class="nav-link">Contacto</a>
      </nav>
    </div>
  </header>

  <!-- ==============================
       MAIN / CATÁLOGO
       ============================== -->
  <main>
    <section class="catalogo">
      <h2>Catálogo de Productos</h2>
      <div class="catalogo-grid">
        <!-- Card: Francfort -->
        <article class="cat-card" data-product="francfort">
          <div class="cat-img">
            <img src="img/Francfort/Francfort1.png" alt="Francfort" />
          </div>
          <div class="cat-content">
            <h3>Francfort</h3>
          </div>
        </article>
        <!-- Card: Hanover -->
        <article class="cat-card" data-product="hanover">
          <div class="cat-img">
            <img src="img/Hanover/Hanover1.png" alt="Hanover" />
          </div>
          <div class="cat-content">
            <h3>Hanover</h3>
          </div>
        </article>
        <!-- Card: Bremen -->
        <article class="cat-card" data-product="bremen">
          <div class="cat-img">
            <img src="img/Bremen/Bremen1.png" alt="Bremen" />
          </div>
          <div class="cat-content">
            <h3>Bremen</h3>
          </div>
        </article>
        <!-- Card: Atenas -->
        <article class="cat-card" data-product="atenas">
          <div class="cat-img">
            <img src="img/Atenas/Atenas1.png" alt="Atenas" />
          </div>
          <div class="cat-content">
            <h3>Atenas</h3>
          </div>
        </article>
        <!-- Card: Duisburgo -->
        <article class="cat-card" data-product="duisburgo">
          <div class="cat-img">
            <img src="img/Duisburgo/Duisburgo1.png" alt="Duisburgo" />
          </div>
          <div class="cat-content">
            <h3>Duisburgo</h3>
          </div>
        </article>
      </div>
    </section>

    <!-- ==============================
         MODALES FLOTANTES POR PRODUCTO
         ============================== -->

    <!-- Modal: Francfort -->
    <div id="modal-francfort" class="modal-float oculto">
      <div class="modal-float-content">
        <span class="modal-float-close">&times;</span>
        <div class="slider-container" data-product="francfort">
          <button class="slider-arrow left">&#8249;</button>
          <img src="img/Francfort/Francfort1.png" alt="Francfort" class="slider-img" />
          <button class="slider-arrow right">&#8250;</button>
        </div>
        <div class="slider-dots" data-product="francfort"></div>
        <div class="modal-title">Francfort</div>
        <div class="modal-price">$2,500 MXN</div>
        <div class="modal-desc">
          Mueble de melamina estilo moderno, acabado en color blanco. Medidas: 2.00m x 0.50m x 0.75m.
        </div>
        <a
          href="https://wa.me/526624125786?text=Hola,%20estoy%20interesado%20en%20el%20modelo%20Francfort"
          class="modal-float-contact-btn"
          target="_blank"
        >
          Contactar por WhatsApp
        </a>
      </div>
    </div>

    <!-- Modal: Hanover -->
    <div id="modal-hanover" class="modal-float oculto">
      <div class="modal-float-content">
        <span class="modal-float-close">&times;</span>
        <div class="slider-container" data-product="hanover">
          <button class="slider-arrow left">&#8249;</button>
          <img src="img/Hanover/Hanover1.png" alt="Hanover" class="slider-img" />
          <button class="slider-arrow right">&#8250;</button>
        </div>
        <div class="slider-dots" data-product="hanover"></div>
        <div class="modal-title">Hanover</div>
        <div class="modal-price">$3,000 MXN</div>
        <div class="modal-desc">
          Mueble de melamina con acabado en nogal y puertas corredizas. Medidas: 1.80m x 0.45m x 0.65m.
        </div>
        <a
          href="https://wa.me/526624125786?text=Hola,%20estoy%20interesado%20en%20el%20modelo%20Hanover"
          class="modal-float-contact-btn"
          target="_blank"
        >
          Contactar por WhatsApp
        </a>
      </div>
    </div>

    <!-- Modal: Bremen -->
    <div id="modal-bremen" class="modal-float oculto">
      <div class="modal-float-content">
        <span class="modal-float-close">&times;</span>
        <div class="slider-container" data-product="bremen">
          <button class="slider-arrow left">&#8249;</button>
          <img src="img/Bremen/Bremen1.png" alt="Bremen" class="slider-img" />
          <button class="slider-arrow right">&#8250;</button>
        </div>
        <div class="slider-dots" data-product="bremen"></div>
        <div class="modal-title">Bremen</div>
        <div class="modal-price">$2,200 MXN</div>
        <div class="modal-desc">
          Estante de melamina con estantes ajustables y acabado en gris. Medidas: 1.20m x 0.40m x 1.80m.
        </div>
        <a
          href="https://wa.me/526624125786?text=Hola,%20estoy%20interesado%20en%20el%20modelo%20Bremen"
          class="modal-float-contact-btn"
          target="_blank"
        >
          Contactar por WhatsApp
        </a>
      </div>
    </div>

    <!-- Modal: Atenas -->
    <div id="modal-atenas" class="modal-float oculto">
      <div class="modal-float-content">
        <span class="modal-float-close">&times;</span>
        <div class="slider-container" data-product="atenas">
          <button class="slider-arrow left">&#8249;</button>
          <img src="img/Atenas/Atenas1.png" alt="Atenas" class="slider-img" />
          <button class="slider-arrow right">&#8250;</button>
        </div>
        <div class="slider-dots" data-product="atenas"></div>
        <div class="modal-title">Atenas</div>
        <div class="modal-price">$2,800 MXN</div>
        <div class="modal-desc">
          Mueble de melamina con acabado en wengué y estantes de vidrio. Medidas: 1.50m x 0.45m x 0.70m.
        </div>
        <a
          href="https://wa.me/526624125786?text=Hola,%20estoy%20interesado%20en%20el%20modelo%20Atenas"
          class="modal-float-contact-btn"
          target="_blank"
        >
          Contactar por WhatsApp
        </a>
      </div>
    </div>

    <!-- Modal: Duisburgo -->
    <div id="modal-duisburgo" class="modal-float oculto">
      <div class="modal-float-content">
        <span class="modal-float-close">&times;</span>
        <div class="slider-container" data-product="duisburgo">
          <button class="slider-arrow left">&#8249;</button>
          <img src="img/Duisburgo/Duisburgo1.png" alt="Duisburgo" class="slider-img" />
          <button class="slider-arrow right">&#8250;</button>
        </div>
        <div class="slider-dots" data-product="duisburgo"></div>
        <div class="modal-title">Duisburgo</div>
        <div class="modal-price">$1,900 MXN</div>
        <div class="modal-desc">
          Estantería de melamina blanca con puertas corredizas. Medidas: 1.60m x 0.40m x 1.80m.
        </div>
        <a
          href="https://wa.me/526624125786?text=Hola,%20estoy%20interesado%20en%20el%20modelo%20Duisburgo"
          class="modal-float-contact-btn"
          target="_blank"
        >
          Contactar por WhatsApp
        </a>
      </div>
    </div>
  </main>

  <!-- ==============================
       FOOTER
       ==============================
  -->
  <footer>
    <p>
      &copy; 2025 Hermanitos Muebles de Melamina | Página desarrollada para ofrecerte la mejor experiencia.
    </p>
  </footer>

  <!-- ==============================
       SCRIPTS: ABRIR/CERRAR MODALES + SLIDER
       ==============================
  -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Mapeo de galerías por producto
      const galleries = {
        francfort: [
          "img/Francfort/Francfort1.png",
          "img/Francfort/Francfort2.png",
          "img/Francfort/Francfort3.png"
        ],
        hanover: [
          "img/Hanover/Hanover1.png",
          "img/Hanover/Hanover2.png",
          "img/Hanover/Hanover3.png",
          "img/Hanover/Hanover4.png",
          "img/Hanover/Hanover5.png",
          "img/Hanover/Hanover6.png"
        ],
        bremen: [
          "img/Bremen/Bremen1.png",
          "img/Bremen/Bremen2.png",
          "img/Bremen/Bremen3.png",
          "img/Bremen/Bremen4.png",
          "img/Bremen/Bremen5.png"
        ],
        atenas: [
          "img/Atenas/Atenas1.png",
          "img/Atenas/Atenas2.png",
          "img/Atenas/Atenas3.png",
          "img/Atenas/Atenas4.png",
          "img/Atenas/Atenas5.png"
        ],
        duisburgo: [
          "img/Duisburgo/Duisburgo1.png",
          "img/Duisburgo/Duisburgo2.png",
          "img/Duisburgo/Duisburgo3.png",
          "img/Duisburgo/Duisburgo4.png"
        ]
      };

      // Estado actual de índice para cada galería
      const currentIndex = {};

      // Función para inicializar el slider de un producto
      function initSlider(product) {
        const container = document.querySelector(
          `.slider-container[data-product="${product}"]`
        );
        if (!container) return;

        const leftArrow = container.querySelector(".slider-arrow.left");
        const rightArrow = container.querySelector(".slider-arrow.right");
        const imgElement = container.querySelector(".slider-img");
        const dotsContainer = document.querySelector(
          `.slider-dots[data-product="${product}"]`
        );

        // Crear puntos (dots) según la longitud de la galería
        galleries[product].forEach((_, idx) => {
          const dot = document.createElement("button");
          dot.classList.add("slider-dot");
          dot.dataset.index = idx;
          if (idx === 0) dot.classList.add("active");
          dotsContainer.appendChild(dot);

          dot.addEventListener("click", () => {
            updateSlide(product, idx);
          });
        });

        // Inicializar índice
        currentIndex[product] = 0;

        // Flecha derecha
        rightArrow.addEventListener("click", () => {
          let idx = currentIndex[product] + 1;
          if (idx >= galleries[product].length) idx = 0;
          updateSlide(product, idx);
        });

        // Flecha izquierda
        leftArrow.addEventListener("click", () => {
          let idx = currentIndex[product] - 1;
          if (idx < 0) idx = galleries[product].length - 1;
          updateSlide(product, idx);
        });
      }

      // Función para actualizar la imagen y el punto activo
      function updateSlide(product, idx) {
        const container = document.querySelector(
          `.slider-container[data-product="${product}"]`
        );
        const imgElement = container.querySelector(".slider-img");
        const dots = document
          .querySelector(`.slider-dots[data-product="${product}"]`)
          .querySelectorAll(".slider-dot");

        imgElement.src = galleries[product][idx];
        dots.forEach((dot) => dot.classList.remove("active"));
        dots[idx].classList.add("active");
        currentIndex[product] = idx;
      }

      // Inicializar sliders para todos los productos definidos en galleries
      Object.keys(galleries).forEach((product) => {
        initSlider(product);
      });

      // Abrir modal al hacer clic en una tarjeta
      document.querySelectorAll(".cat-card").forEach((card) => {
        card.addEventListener("click", () => {
          const product = card.dataset.product;
          const modal = document.getElementById(`modal-${product}`);
          if (!modal.classList.contains("oculto")) return;
          // Reiniciar al primer índice
          updateSlide(product, 0);
          modal.classList.remove("oculto");
        });
      });

      // Cerrar modal al hacer clic en la X
      document.querySelectorAll(".modal-float-close").forEach((closeBtn) => {
        closeBtn.addEventListener("click", () => {
          const modal = closeBtn.closest(".modal-float");
          modal.classList.add("oculto");
        });
      });

      // Cerrar modal al hacer clic fuera del contenido
      document.querySelectorAll(".modal-float").forEach((modal) => {
        modal.addEventListener("click", (e) => {
          if (e.target === modal) {
            modal.classList.add("oculto");
          }
        });
      });
    });
  </script>
</body>
</html>
