<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Hermanitos Muebles de Melamina</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <div class="container">
      <div class="logo">HMM</div>
      <nav>
        <a href="#inicio" class="active nav-link" data-seccion="inicio">Inicio</a>
        <a href="#catalogo" class="nav-link" data-seccion="catalogo">Catálogo</a>
        <a href="#contacto" class="nav-link" data-seccion="contacto">Contacto</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- INICIO -->
    <section id="inicio" class="hero seccion">
      <div class="hero-content">
        <h1>Transforma tu espacio<br>
          <span>con muebles de melamina</span>
        </h1>
        <p>Ambientes modernos y funcionales.<br>
          Calidad y estilo a tu medida.
        </p>
        <a href="#catalogo" class="btn btn-lg nav-link" data-seccion="catalogo">Ver catálogo</a>
      </div>
      <div class="hero-carousel">
        <div class="carousel-track" id="inicio-carousel-track">
          <a href="#" data-modelo="Francfort"><img src="img/Francfort/Francfort1.png" alt="Francfort" /></a>
          <a href="#" data-modelo="Hanover"><img src="img/Hanover/Hanover1.png" alt="Hanover" /></a>
          <a href="#" data-modelo="Bremen"><img src="img/Bremen/Bremen1.png" alt="Bremen" /></a>
          <a href="#" data-modelo="Atenas"><img src="img/Atenas/Atenas1.png" alt="Atenas" /></a>
          <a href="#" data-modelo="Duisburgo"><img src="img/Duisburgo/Duisburgo1.png" alt="Duisburgo" /></a>
          <!-- Repetidas para infinito -->
          <a href="#" data-modelo="Francfort"><img src="img/Francfort/Francfort1.png" alt="Francfort repeat" /></a>
          <a href="#" data-modelo="Hanover"><img src="img/Hanover/Hanover1.png" alt="Hanover repeat" /></a>
          <a href="#" data-modelo="Bremen"><img src="img/Bremen/Bremen1.png" alt="Bremen repeat" /></a>
          <a href="#" data-modelo="Atenas"><img src="img/Atenas/Atenas1.png" alt="Atenas repeat" /></a>
          <a href="#" data-modelo="Duisburgo"><img src="img/Duisburgo/Duisburgo1.png" alt="Duisburgo repeat" /></a>
        </div>
      </div>
    </section>

    <!-- CATÁLOGO -->
    <section id="catalogo" class="catalogo seccion" style="display:none;">
      <h2>Catálogo Destacado</h2>
      <div class="catalogo-grid">
        <div class="cat-card" data-modelo="Francfort">
          <div class="cat-img" style="background-image: url('img/Francfort/Francfort1.png');"></div>
          <div class="cat-content">
            <h3>Francfort</h3>
            <span class="cat-price">$1000 MXN</span>
            <p class="cat-desc">Clóset compacto, nogal</p>
          </div>
        </div>
        <div class="cat-card" data-modelo="Hanover">
          <div class="cat-img" style="background-image: url('img/Hanover/Hanover1.png');"></div>
          <div class="cat-content">
            <h3>Hanover</h3>
            <span class="cat-price">$1000 MXN</span>
            <p class="cat-desc">Librero moderno</p>
          </div>
        </div>
        <div class="cat-card" data-modelo="Bremen">
          <div class="cat-img" style="background-image: url('img/Bremen/Bremen1.png');"></div>
          <div class="cat-content">
            <h3>Bremen</h3>
            <span class="cat-price">$1000 MXN</span>
            <p class="cat-desc">Repisa melamina roble</p>
          </div>
        </div>
        <div class="cat-card" data-modelo="Atenas">
          <div class="cat-img" style="background-image: url('img/Atenas/Atenas1.png');"></div>
          <div class="cat-content">
            <h3>Atenas</h3>
            <span class="cat-price">$1000 MXN</span>
            <p class="cat-desc">Mesa lateral</p>
          </div>
        </div>
        <div class="cat-card" data-modelo="Duisburgo">
          <div class="cat-img" style="background-image: url('img/Duisburgo/Duisburgo1.png');"></div>
          <div class="cat-content">
            <h3>Duisburgo</h3>
            <span class="cat-price">$1000 MXN</span>
            <p class="cat-desc">Estante/Libreria</p>
          </div>
        </div>
      </div>
    </section>

    <!-- MODAL PRODUCTO - DOS COLUMNAS CON ZOOM -->
    <div id="modal-producto" class="modal-producto">
      <div class="modal-bg" id="close-modal"></div>
      <div class="modal-content modal-content-gallery">
        <button class="cerrar-modal" id="close-modal-btn">&times;</button>
        <div class="modal-body modal-body-gallery">
          <!-- Info izquierda -->
          <div class="modal-info" id="modal-info"></div>
          <!-- Galería derecha -->
          <div class="gallery-column">
            <div class="gallery-main">
              <button class="arrow left" id="galeria-prev">&#8592;</button>
              <div class="gallery-viewport">
                <img id="gallery-main-img" src="" alt="" />
              </div>
              <button class="arrow right" id="galeria-next">&#8594;</button>
            </div>
            <div class="gallery-thumbs" id="gallery-thumbs"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- CONTACTO -->
    <section id="contacto" class="seccion" style="display: none;">
      <h2>Contacto</h2>
      <p>¿Dudas? ¿Quieres un diseño especial? ¡Escríbenos por WhatsApp y recibe atención inmediata!</p>
      <a class="btn btn-contact" href="https://wa.me/526624125786" target="_blank" rel="noopener">Contactar</a>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Hermanitos Muebles de Melamina | Página desarrollada para ofrecerte la mejor experiencia.</p>
  </footer>

  <script>
  // --- SPA NAV ---
  document.addEventListener('DOMContentLoaded', function() {
    function mostrarSolo(seccionId) {
      document.querySelectorAll('.seccion').forEach(sec => sec.style.display = 'none');
      let sec = document.getElementById(seccionId);
      if(sec) sec.style.display = (seccionId === 'inicio') ? 'flex' : 'block';
    }
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        mostrarSolo(this.getAttribute('data-seccion'));
        document.querySelectorAll('nav a').forEach(a=>a.classList.remove('active'));
        this.classList.add('active');
        window.scrollTo({top:0,behavior:'smooth'});
      });
    });
    mostrarSolo('inicio');
  });

  // PRODUCTOS
  const productos = {
    Francfort: {
      nombre: "Francfort",
      precio: "$1000 MXN",
      desc: "Clóset compacto, nogal.",
      detalles: [
        "Modelo: Francfort",
        "Dimensiones: 90x180x45 cm",
        "Color: Nogal",
        "Envío: Hermosillo y alrededores"
      ],
      whatsapp: "https://wa.me/526624125786?text=Hola,%20estoy%20interesado%20en%20el%20modelo%20Francfort",
      fotos: [
        "img/Francfort/Francfort1.png",
        "img/Francfort/Francfort2.png",
        "img/Francfort/Francfort3.png"
      ]
    },
    Hanover: {
      nombre: "Hanover",
      precio: "$1000 MXN",
      desc: "Librero moderno.",
      detalles: [
        "Modelo: Hanover",
        "Dimensiones: 80x160x35 cm",
        "Color: Blanco",
        "Envío: Hermosillo y alrededores"
      ],
      whatsapp: "https://wa.me/526624125786?text=Hola,%20estoy%20interesado%20en%20el%20modelo%20Hanover",
      fotos: [
        "img/Hanover/Hanover1.png",
        "img/Hanover/Hanover2.png",
        "img/Hanover/Hanover3.png",
        "img/Hanover/Hanover4.png"
      ]
    },
    Bremen: {
      nombre: "Bremen",
      precio: "$1000 MXN",
      desc: "Repisa melamina roble.",
      detalles: [
        "Modelo: Bremen",
        "Dimensiones: 60x150x35 cm",
        "Color: Roble",
        "Envío: Hermosillo y alrededores"
      ],
      whatsapp: "https://wa.me/526624125786?text=Hola,%20estoy%20interesado%20en%20el%20modelo%20Bremen",
      fotos: [
        "img/Bremen/Bremen1.png",
        "img/Bremen/Bremen2.png",
        "img/Bremen/Bremen3.png",
        "img/Bremen/Bremen4.png"
      ]
    },
    Atenas: {
      nombre: "Atenas",
      precio: "$1000 MXN",
      desc: "Mesa lateral.",
      detalles: [
        "Modelo: Atenas",
        "Dimensiones: 60x150x35 cm",
        "Color: Nogal",
        "Envío: Hermosillo y alrededores"
      ],
      whatsapp: "https://wa.me/526624125786?text=Hola,%20estoy%20interesado%20en%20el%20modelo%20Atenas",
      fotos: [
        "img/Atenas/Atenas1.png",
        "img/Atenas/Atenas2.png",
        "img/Atenas/Atenas3.png",
        "img/Atenas/Atenas4.png"
      ]
    },
    Duisburgo: {
      nombre: "Duisburgo",
      precio: "$1000 MXN",
      desc: "Estante/Libreria.",
      detalles: [
        "Modelo: Duisburgo",
        "Dimensiones: 60x150x35 cm",
        "Color: Blanco",
        "Envío: Hermosillo y alrededores"
      ],
      whatsapp: "https://wa.me/526624125786?text=Hola,%20estoy%20interesado%20en%20el%20modelo%20Duisburgo",
      fotos: [
        "img/Duisburgo/Duisburgo1.png",
        "img/Duisburgo/Duisburgo2.png",
        "img/Duisburgo/Duisburgo3.png",
        "img/Duisburgo/Duisburgo4.png"
      ]
    }
  };

  // MODAL PRODUCTO MEJORADO
  const modal = document.getElementById("modal-producto");
  const modalInfo = document.getElementById("modal-info");
  const galleryMainImg = document.getElementById("gallery-main-img");
  const galleryThumbs = document.getElementById("gallery-thumbs");
  let galeriaIdx = 0, galeriaFotos = [], galeriaModelo = null;

  function abrirModalProducto(modelo) {
    const prod = productos[modelo];
    if (!prod) return;
    galeriaModelo = modelo;
    galeriaFotos = prod.fotos;
    galeriaIdx = 0;
    // Miniaturas
    galleryThumbs.innerHTML = prod.fotos.map((src,i)=>`
      <img src="${src}" alt="" class="gallery-thumb${i===0?' active':''}" data-idx="${i}">
    `).join('');
    galleryMainImg.src = prod.fotos[0];
    // Info
    modalInfo.innerHTML = `
      <h3>${prod.nombre}</h3>
      <div class="precio">${prod.precio}</div>
      <div class="desc">${prod.desc}</div>
      <ul>${prod.detalles.map(t=>`<li>${t}</li>`).join("")}</ul>
      <a class="btn btn-contact" href="${prod.whatsapp}" target="_blank">Cotizar por WhatsApp</a>
    `;
    modal.classList.add("active");
    document.body.style.overflow = "hidden";
    updateGallery();
  }
  function cerrarModalProducto() {
    modal.classList.remove("active");
    document.body.style.overflow = "";
    galleryViewport.classList.remove('zoomed'); // quita el zoom si está activo
  }
  function updateGallery() {
    galleryMainImg.src = galeriaFotos[galeriaIdx];
    galleryThumbs.querySelectorAll('img').forEach((el,i)=>{
      el.classList.toggle('active',i===galeriaIdx);
    });
    galleryViewport.classList.remove('zoomed');
    galleryViewport.style.setProperty('--zoom-x', '0px');
    galleryViewport.style.setProperty('--zoom-y', '0px');
  }
  document.getElementById("close-modal").onclick = cerrarModalProducto;
  document.getElementById("close-modal-btn").onclick = cerrarModalProducto;
  document.getElementById("galeria-prev").onclick = ()=>{
    if (galeriaIdx>0) { galeriaIdx--; updateGallery(); }
  };
  document.getElementById("galeria-next").onclick = ()=>{
    if (galeriaIdx<galeriaFotos.length-1) { galeriaIdx++; updateGallery(); }
  };
  galleryThumbs.addEventListener('click',e=>{
    if(e.target.matches('img')) {
      galeriaIdx = parseInt(e.target.dataset.idx);
      updateGallery();
    }
  });

  // Click en cards del catálogo
  document.querySelectorAll(".cat-card").forEach(card=>{
    card.onclick = ()=>abrirModalProducto(card.dataset.modelo);
  });

  // Click en imágenes del carrusel de inicio
  document.querySelectorAll('#inicio-carousel-track a').forEach(el => {
    el.addEventListener('click', function(e){
      e.preventDefault();
      abrirModalProducto(this.dataset.modelo);
    });
  });

  // CARRUSEL INFINITO
  (function() {
    const track = document.getElementById('inicio-carousel-track');
    let imgWidth = track.querySelector('a').offsetWidth + 24; // img+margin
    let totalImgs = track.children.length;
    let pos = 0;
    let vel = 0;
    let raf, hovering = false;

    function animate() {
      pos += vel;
      if (pos < 0) pos += imgWidth*5;
      if (pos > imgWidth*5) pos -= imgWidth*5;
      track.style.transform = `translateX(${-pos}px)`;
      if (hovering) raf = requestAnimationFrame(animate);
    }
    // Mouse interactivo
    track.parentElement.addEventListener('mousemove', function(e){
      const rect = this.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const width = rect.width;
      let rel = (x / width - 0.5) * 2;
      vel = rel * 2.3;
      if (!raf) {
        hovering = true;
        raf = requestAnimationFrame(animate);
      }
    });
    track.parentElement.addEventListener('mouseleave', function(){
      hovering = false;
      cancelAnimationFrame(raf);
      raf = null;
      vel = 0;
    });
    // Animación auto en móvil
    let autoAnim = setInterval(() => {
      if (!hovering && window.innerWidth <= 900) {
        pos += 1.2;
        if (pos < 0) pos += imgWidth*5;
        if (pos > imgWidth*5) pos -= imgWidth*5;
        track.style.transform = `translateX(${-pos}px)`;
      }
    }, 20);
  })();

  // === ZOOM EN LA IMAGEN PRINCIPAL DEL MODAL ===
  const galleryViewport = document.querySelector('.gallery-viewport');
  let zoomed = false, zoomX = 0, zoomY = 0;

  galleryViewport.addEventListener('click', function(e) {
    zoomed = !zoomed;
    this.classList.toggle('zoomed', zoomed);
    if (!zoomed) {
      this.style.setProperty('--zoom-x', '0px');
      this.style.setProperty('--zoom-y', '0px');
    }
  });

  galleryViewport.addEventListener('mousemove', function(e) {
    if (!zoomed) return;
    const img = document.getElementById('gallery-main-img');
    const rect = this.getBoundingClientRect();
    const x = ((e.clientX - rect.left) / rect.width - 0.5) * 2; // -1 a 1
    const y = ((e.clientY - rect.top) / rect.height - 0.5) * 2;
    const lim = 0.44;
    this.style.setProperty('--zoom-x', `${-x*lim*100}%`);
    this.style.setProperty('--zoom-y', `${-y*lim*100}%`);
  });

  galleryViewport.addEventListener('mouseleave', function() {
    if (zoomed) {
      this.style.setProperty('--zoom-x', '0px');
      this.style.setProperty('--zoom-y', '0px');
    }
  });

  // Soporte táctil para móvil:
  let lastTouch = null;
  galleryViewport.addEventListener('touchstart', function(e){
    if(!zoomed) return;
    if(e.touches.length===1){
      lastTouch = e.touches[0];
    }
  });
  galleryViewport.addEventListener('touchmove', function(e){
    if(!zoomed || !lastTouch) return;
    const rect = this.getBoundingClientRect();
    const touch = e.touches[0];
    const x = ((touch.clientX - rect.left) / rect.width - 0.5) * 2;
    const y = ((touch.clientY - rect.top) / rect.height - 0.5) * 2;
    const lim = 0.44;
    this.style.setProperty('--zoom-x', `${-x*lim*100}%`);
    this.style.setProperty('--zoom-y', `${-y*lim*100}%`);
  });
  galleryViewport.addEventListener('touchend', function(e){
    if (zoomed) {
      this.style.setProperty('--zoom-x', '0px');
      this.style.setProperty('--zoom-y', '0px');
    }
    lastTouch = null;
  });

  </script>
</body>
</html>
